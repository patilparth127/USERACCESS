<div class="app-container">
  <div *ngIf="isLoading$ | async" class="loading-overlay">
    <div class="spinner-container">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>


  <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">
      User Access System</a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button"
            (click)="toggleCollapsed($event)" aria-controls="sidebarMenu"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>


    <div class="w-100"></div>


    <div class="navbar-nav" *ngIf="isAuthenticated">
      <div class="nav-item text-nowrap">
        <button class="btn btn-outline-light mx-3" (click)="logout()">
          <i class="bi bi-box-arrow-right me-1"></i> Logout
        </button>
      </div>
    </div>
  </header>

  <div class="container-fluid">
    <div class="row flex-nowrap">

      <div class="col-auto p-0 sidebar-wrapper" *ngIf="isAuthenticated">
        <app-sidebar
          [isCollapsed]="isCollapsed"
          [menuItems]="visibleMenuItems"
          (toggleSidebar)="toggleCollapsed($event)">
        </app-sidebar>
      </div>


      <main class="col py-3">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</div>
